//
//  RQGuoQing.m
//  Caipiao
//
//  Created by 王浩 on 15/9/30.
//  Copyright © 2015年 yz. All rights reserved.
//

#import "RQGuoQing.h"

@implementation RQGuoQing
- (void)prepare{
    //self.url = @"http://ios1.phl5b.org/shared/proxyMultiply";
    
    //NSString *strLoginPassSource;
    //NSString *strLoginPass = strLoginPassSource = [[loginPass dataUsingEncoding:NSUTF8StringEncoding] md5];
    //    strLoginPass = [NSString stringWithFormat:@"%@+(null)", strLoginPass, nil];
    //    strLoginPass = [[strLoginPass dataUsingEncoding:NSUTF8StringEncoding] md5];
    //    [self setPostValue:strLoginPass forField:@"loginpass"];
    //[self setPostValue:@1 forField:@"appcode"];
    //    [self setPostValue:strLoginPassSource forField:@"loginpass_source"];
   // [self setPostValue:self.username forField:@"username"];
    
    [super prepare];
}

- (void)parse:(NSDictionary *)json{
    
    self.link = [json intForKey:@"link"] ;
    //self.nickname = [json stringForKey:@"nickname"];
    //self.token = [json stringForKey:@"token"];
    //    self.exception = [json objectForKey:@"unusual"];
    //self.userType = [json intForKey:@"agentType"];
   // self.source = [json stringForKey:@"source"];
   // BOOL bSecPass = [json boolForKey:@"needSetSecurityPass"];
    //    [SharedModel shared].nickname = self.nickname;
    //    [SharedModel shared].username = self.username;
    //[SharedModel shared].token = self.token;
    //    [SharedModel shared].userid = [NSString stringWithFormat:@"%d",self.userid];
    
//    
//    CDUserInfo *u = [CDUserInfo findFirst:@"account = '%@'",self.username];
//    if (!u){
//        u = [[CDUserInfo new] autorelease];
//    }
//    u.userid = [@(self.userid) stringValue];
//    u.account = self.username;
//    u.passwd = [json stringForKey:@"loginpwd"];
//    u.nickname = self.nickname;
//    u.token = self.token;
//    u.needSetSecurityPass = @(bSecPass);
//    u.userType = @(self.userType);
//    u.unread = @([json intForKey:@"unread"]);
//    u.logined = @(YES);
//    u.isvip = [json valueForKey:@"isvip"];
//    u.needSetSafeQuest = @([json boolForKey:@"needSetSafeQuest"]);
//    u.source=self.source;
//    [u save];
    
   // MSNotificationCenterPost(kNotificationUserInfoUpdated);
}

@end
